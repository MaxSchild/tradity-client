<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Tradity</title>
		<script src="/socket.io/socket.io.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
		<script>

		var socket = io.connect('/');
		socket.on('response', function (data) {
			console.log(data);
            if (data.code == 'email-enter-success'){
                var emailForm = document.getElementById('email');
                emailForm.innerHTML = '<p class="success">Dankeschön! Wir benachrichtigen dich, sobald Neuigkeiten verfügbar sind.</p>';
            }
            else if (data.code == 'email-already-present'){
                alert('Diese E-Mail wurde bereits eingetragen!');
                $("email-qt").prop('disabled', false);
                $("email-sb").prop('disabled', false);
            }
		});

		function enterEmail(email) {
			socket.emit('query', { type: 'insertPSEmail', email: email, 'id': 42 });
			$("email-qt").prop('disabled', true);
            $("email-sb").prop('disabled', true);
            // email validation lasse ich mal
		}
		</script>
        <style>
            ::-moz-selection {
                background: #b3d4fc;
                text-shadow: none;
            }

            ::selection {
                background: #b3d4fc;
                text-shadow: none;
            }

            html {
                padding: 30px 10px;
                font-size: 20px;
                line-height: 1.4;
                color: #737373;
                background: #f0f0f0;
                -webkit-text-size-adjust: 100%;
                -ms-text-size-adjust: 100%;
            }

            html,
            input {
                font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
            }

            body {
            	position: relative;
                max-width: 700px;
                _width: 700px;
                padding: 30px 20px 50px;
                border: 1px solid #b3b3b3;
                border-radius: 4px;
                margin: 0 auto;
                box-shadow: 0 1px 10px #a7a7a7, inset 0 1px 0 #fff;
                background: #fcfcfc;
            }

            h1, h2 {
                margin: 0 10px;
                font-size: 50px;
                text-align: center;
            }

            h2{
                font-size: 30px;
            }

            h1 span {
                color: #aaa;
            }

            p {
                margin: 1em 0;
            }

            .success {
                color: green;
            }

            .container {
                max-width: 580px;
                _width: 580px;
                margin: 0 auto;
            }

            /* email form */

            #email {
                margin: 0;
            }

            #email-qt,
            #email-sb {
                border: 1px solid #bbb;
                font-size: 16px;
                line-height: normal;
                vertical-align: top;
                color: #444;
                border-radius: 2px;
            }

            #email-qt {
                width: 220px;
                height: 20px;
                padding: 5px;
                margin: 5px 0 0 0;
                box-shadow: inset 0 1px 1px #ccc;
            }

            #email-sb {
                display: inline-block;
                height: 32px;
                padding: 0 10px;
                margin: 5px 0 0 0;
                white-space: nowrap;
                cursor: pointer;
                background-color: #f5f5f5;
                background-image: -webkit-linear-gradient(rgba(255,255,255,0), #f1f1f1);
                background-image: -moz-linear-gradient(rgba(255,255,255,0), #f1f1f1);
                background-image: -ms-linear-gradient(rgba(255,255,255,0), #f1f1f1);
                background-image: -o-linear-gradient(rgba(255,255,255,0), #f1f1f1);
                -webkit-appearance: none;
                -moz-appearance: none;
                appearance: none;
                *overflow: visible;
                *display: inline;
                *zoom: 1;
            }

            #email-sb:hover,
            #email-sb:focus {
                border-color: #aaa;
                box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);
                background-color: #f8f8f8;
            }

            #email-qt:hover,
            #email-qt:focus {
                border-color: #105cb6;
                outline: 0;
                color: #222;
            }

            input::-moz-focus-inner {
                padding: 0;
                border: 0;
            }

            #partner {
            	position: absolute;
            	bottom: -100px;
            	height: 100px;
            	width: 241px;
            }
            #date{
                position: absolute;
                right: 0px;
                bottom: -30px;
                height: 30px;
                width: 250px;
            }
            .little-silver {
                font-size: 11px;
                color: silver;
            }
        </style>
	</head>
	<body>
        <div class="container">
	        <h1>Tradity</h1>
	        <h2>Börsenspiel 2.0</h2>
				<!--<p class="success">Dankeschön! Wir benachrichtigen dich, sobald Neuigkeiten verfügbar sind.</p>-->
	            <p>Sei Teil des ersten <strong>Social Trading Börsenspiels</strong> der Welt und lerne eine <em>neue</em> Art des Tradens kennen!</p>
	            <p style="font-size: 13px;">Gib hier deine E-Mail-Adresse an, um über den Start des Wettbewerbs benachrichtigt zu werden.</p>
	        <div id="email" ng-controller="App.email">
	       		<input name="email-qt" type="email" id="email-qt" ng-model="email" placeholder="E-Mail" />
				<input type="button" value="Los!" id="email-sb" onclick="enterEmail(document.getElementById('email-qt').value);" ng-click="submit()" />
		    </div>
        </div>
        <div id="partner">
            <span class="little-silver">Partner:</span><br />
            <a href="http://www.tradimo.de" style="border:0"><img src="http://static1-tradimo.eccdn.net/bundles/icansbasesite/images/logo-footer-normal.png?1.47.2" alt="tradimo" /></a>
        </div>
        <div id="date">
            <span class="little-silver">Voraussichtlicher Start: September 2013</span>
        </div>

        <!--
			<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.5/angular.min.js"></script>
			<script src="splash.js"></script>
        -->
	</body>
</html>
