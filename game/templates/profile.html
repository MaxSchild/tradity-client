<button class="tutbtn" onclick="javascript:introJs().start()" ng-hide="!user.isSelf">?</button>
<div id="profile" ng-hide="user.isSelf">
    <div class="clearfix">
        <h2 class="name">{{user.giv_name}} <span class="nick">„{{user.name}}“</span> {{user.fam_name}}</h2>
        <div class="depot">
            <h2 class="title">Gesamtvermögen</h2>
            <span class="depot-wert">{{user.totalvalue / 10000 | currency}}</span>
        </div>
    </div>
    <img id="profile-picture"  class="profile-box" src="{{user.profilepic}}" alt="Profilbild">
    <div id="bio" class="profile-box">
        <h3 class="title">Kurzbeschreibung: <br /></h3>
        {{user.desc}}
    </div>
    <div id="placement" class="profile-box">
        <h3 class="title">Platz: <br /></h3>
        <span class="placement-number">{{user.rank}}</span>
    </div>
</div>
<div class="main-content" data-step="1" data-position="left" data-intro="Alles, was du hier siehst, ist dein öffentliches Profil. Je nach deinen Einstellungen ist dein Klarname einsehbar.">
    <div style="text-align: right">
      <button ng-click="getUserInfo()" class="click-button"><span class="batch">&#xF0B2; </span>Refresh</button>
      <button ng-click="addToWatchlist()" class="click-button" ng-hide="user.isSelf"><span class="batch">&#xF179; </span>Add to Watchlist</button>
      <form style="display:inline" action="#/trade/buy/__LEADER_{{user.uid}}__/0" method="get"><button class="click-button block-link" ng-hide="user.isSelf"><span class="batch">&#xF0B8; </span>Folgen</button></form>
    </div>
		<fieldset class="options-field">
		<legend>Vermögen</legend>
		<ul class="one-item-list">
			<li>
				Gesamt
			</li>
			<li>
				{{ownUser.totalvalue / 10000| currency}}
			</li>
		</ul>
		<ul class="one-item-list">
			<li>
				Konto
			</li>
			<li>
				{{ownUser.balance / 10000 | currency}}
			</li>
		</ul>
		<ul class="one-item-list">
			<li>
				Depot
			</li>
			<li>
				{{ownUser.depotvalue / 10000 | currency}}
			</li>
		</ul>
	</fieldset>
	<fieldset class="options-field">
		<legend>Performance</legend>
		<ul class="one-item-list">
			<li>
				Gesamt
			</li>
			<li>
				{{((ownUser.totalvalue / 10000) - 100000 ) / 1000 | number:2}}%
			</li>
		</ul>
		<ul class="one-item-list">
			<li>
				Heute
			</li>
			<li>
				{{(ownUser.lastvalue / ownUser.daystartvalue - 1) * 100 | number:2}}%
			</li>
		</ul>
		<ul class="one-item-list">
			<li>
				Woche
			</li>
			<li>
				{{(ownUser.lastvalue / ownUser.weekstartvalue - 1) * 100 | number:2}}%
			</li>
		</ul>
	</fieldset>
    <fieldset class="options-field">
		<legend>Wertpapiere in Besitz</legend>
		<table class="owned-trades">
		  <colgroup>
		  	<col class="column-0">
		    <col class="column-1">
		    <col class="column-2">
		    <col class="column-3">
		    <col class="column-4-5" span="2">
		    <col class="column-6-7" span="2">
			<col class="column-8">
		  </colgroup>
			<tr>
				<th></th>
				<th></th>
				<th></th>
				<th></th>
				<th colspan="2">Preis</th>
				<th colspan="2">Performance</th>
				<th></th>
			</tr>
			<tr>
				<th>Name</th>
				<th>Datum</th>
				<th>Wert</th>
				<th>Anzahl</th>
				<th>Einkauf</th>
				<th>Aktuell</th>
				<th>Gesamt</th>
				<th>Gestern</th>
				<th>Trade</th>
			</tr>
			<tr ng-repeat="result in results">
				<td>{{result.stockname}}</td>
				<td>{{result.buytime * 1000 | date:'d.M.yy HH:mm'}}</td>
				<td>{{result.total / 10000 | currency}}</td>
				<td>{{result.amount}}</td>
				<td>{{result.buymoney / result.amount / 10000 | currency}}</td>
				<td>{{result.lastvalue / 10000 | currency}}</td>
				<td>{{(result.lastvalue * result.amount - result.buymoney)
	                            / result.buymoney * 100 | number:2}}%</td>
				<td>{{(result.lastvalue - result.daystartvalue) /
	                            result.daystartvalue * 100 | number:2}}%</td>
				<td class="trade-td"><a ng-href="#/trade/sell/{{result.stockid}}/{{result.amount}}" class="batch block-link trade">&#xF153;</a></td>
			</tr>
		</table>
	</fieldset>
	<fieldset class="options-field">
		<legend>Transaktionshistorie</legend>
		<table class="transaction-history">
		  <colgroup>
		  	<col class="column-0">
		    <col class="column-1">
		    <col class="column-2">
		    <col class="column-3">
		    <col class="column-4-5">
		    <col class="column-6-7">
		  </colgroup>

			<tr>
				<th>Name</th>
				<th>Datum</th>
				<th>Bilanz</th>
				<th>Anzahl</th>
				<th>Preis</th>
				<th>Transaktionskosten</th>
			</tr>
			<tr ng-repeat="order in orders">
				<td class="{{order.ordertype}}" title="{{order.stocktextid}}"><a class="text-link" ng-href="#/trade/{{order.orderid}}">{{order.stockname}}</a></td>
				<td>{{order.buytime * 1000 | date:'d.M.yy HH:mm'}}</td>
				<td>{{(order.money * -1) / 10000 | currency}}</td>
				<td>{{order.amount}}</td>
				<td>{{order.price / 10000 | currency}}</td>
				<td>{{order.fee / 10000 | currency}}</td>
			</tr>
		</table>
	</fieldset>
    <!-- Just an example yet -->
    <!-- <canvas id="depotPerformanceChart" width="600" height="400"></canvas> -->
</div>

