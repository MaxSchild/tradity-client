<div id="feed" class="main-content">
	<div class="tutorial" ng-hide="messages.length > 0">
		<h2>Willkommen bei Tradity!</h2>
		<div class="text">
			Willkommen bei Tradity – dem ersten Social Trading Börsenspiel Deutschlands! Leg gleich los und 
			investiere in andere Spieler oder kaufe Deine ersten Aktien – Du hast 100.000 € Startkapital. Das <a href="#/faq" class="text-link" title="Häufig gestellte Fragen">FAQ</a> hilft Dir weiter.
		</div>
		<hr/>
		<div class="text">
			Wenn Du noch Fragen zum Spiel hast, kannst Du uns an <a class="text-link" href="mailto:team@tradity.de">team@tradity.de</a> eine E-Mail schreiben oder 
			auf Facebook eine Frage posten. <span style="color: #ff5000;">Viel Erfolg!</span>
		</div>
		</div>
	
	<div>
		<!-- ACTUAL FEED BEGIN -->
		<div ng-repeat="message in displaymessages track by $index" class="feed-item feed-{{message.typePerson}}" ng-switch on="message.type" ng-show="message.type == 'mod-notification' || message">
			<div ng-switch-when="mod-notification">
				<div class="feed-entry-symbol"><i class="fa fa-bullhorn"></i></div>
				<div class="feed-entry-content" ng-bind-html="message.content">
					{{message.content}}
				</div>
			</div>
			<div ng-switch-when="watch-add">
				<div class=" feed-entry-symbol"><i class="fa fa-eye"></i></div>
				<div class="feed-entry-content">
					<span class="feed-time pull-right" title="{{message.time * 1000 | date:'d.M.yy HH:mm'}}">{{vtime(message.time)}}</span>
					<a ng-href="#/user/{{message.srcusername}}" class="feed-link">{{message.srcusername}}</a> hat <a ng-href="#/user/{{message.targetname}}" class="feed-link">{{message.targetname}}</a> auf seine Watchlist gesetzt.
				</div>
			</div>
			<div ng-switch-when="watch-add-self">
				<div class=" feed-entry-symbol"><i class="fa fa-eye"></i></div>
				<div class="feed-entry-content">
					<span class="feed-time pull-right" title="{{message.time * 1000 | date:'d.M.yy HH:mm'}}">{{vtime(message.time)}}</span>
					Du hast <a ng-href="#/user/{{message.targetname}}" class="feed-link">{{message.targetname}}</a> auf Deine Watchlist gesetzt.
				</div>
			</div>
			<div ng-switch-when="watch-add-me">
				<div class=" feed-entry-symbol"><i class="fa fa-eye"></i></div>
				<div class="feed-entry-content">
					<span class="feed-time pull-right" title="{{message.time * 1000 | date:'d.M.yy HH:mm'}}">{{vtime(message.time)}}</span>
					<a ng-href="#/user/{{message.srcusername}}" class="feed-link">{{message.srcusername}}</a> hat Dich auf seine Watchlist gesetzt.
				</div>
			</div>
			<div ng-switch-when="trade-buy">
				<div class=" feed-entry-symbol"><i class="fa fa-eur"></i></div>
				<div class="feed-entry-content">
					<span class="feed-time pull-right" title="{{message.time * 1000 | date:'d.M.yy HH:mm'}}">{{vtime(message.time)}}</span>
					<a ng-href="#/user/{{message.srcusername}}" class="feed-link">{{message.srcusername}}</a> hat {{message.amount}} Anteile an 
						<span ng-show="message.leader"><a ng-href="#/user/{{message.leader}}">{{message.stockname}}</a></span> <span ng-hide="message.leader">{{message.stockname}}</span> <a ng-href="#/trade/{{message.targetid}}" class="feed-link">gekauft</a>.
				</div>
			</div>
			<div ng-switch-when="trade-sell">
				<div class=" feed-entry-symbol"><i class="fa fa-eur"></i></div>
				<div class="feed-entry-content">
					<span class="feed-time pull-right" title="{{message.time * 1000 | date:'d.M.yy HH:mm'}}">{{vtime(message.time)}}</span>
					<a ng-href="#/user/{{message.srcusername}}" class="feed-link">{{message.srcusername}}</a> hat {{message.amount}} Anteile an <span ng-show="message.leader"><a ng-href="#/user/{{message.leader}}">{{message.stockname}}</a></span> <span ng-hide="message.leader">{{message.stockname}}</span> <a ng-href="#/trade/{{message.targetid}}" class="feed-link">verkauft</a>.
				</div>
			</div>
			<div ng-switch-when="trade-buy-self">
				<div class=" feed-entry-symbol"><i class="fa fa-eur"></i></div>
				<div class="feed-entry-content">
					<span class="feed-time pull-right" title="{{message.time * 1000 | date:'d.M.yy HH:mm'}}">{{vtime(message.time)}}</span>
					Du hast {{message.amount}} Anteile an <span ng-show="message.leader"><a ng-href="#/user/{{message.leader}}">{{message.stockname}}</a></span> <span ng-hide="message.leader">{{message.stockname}}</span> <a ng-href="#/trade/{{message.targetid}}" class="feed-link">gekauft</a>.
				</div>
			</div>
			<div ng-switch-when="trade-sell-self">
				<div class=" feed-entry-symbol"><i class="fa fa-eur"></i></div>
				<div class="feed-entry-content">
					<span class="feed-time pull-right" title="{{message.time * 1000 | date:'d.M.yy HH:mm'}}">{{vtime(message.time)}}</span>
					Du hast {{message.amount}} Anteile an <span ng-show="message.leader"><a ng-href="#/user/{{message.leader}}">{{message.stockname}}</a></span> <span ng-hide="message.leader">{{message.stockname}}</span> <a ng-href="#/trade/{{message.targetid}}" class="feed-link">verkauft</a>.
				</div>
			</div>
			<div ng-switch-when="trade-buy-me">
				<div class=" feed-entry-symbol"><i class="fa fa-eur"></i></div>
				<div class="feed-entry-content">
					<span class="feed-time pull-right" title="{{message.time * 1000 | date:'d.M.yy HH:mm'}}">{{vtime(message.time)}}</span>
					<a ng-href="#/user/{{message.srcusername}}" class="feed-link">{{message.srcusername}}</a> hat {{message.amount}} Anteile an Dir <a ng-href="#/trade/{{message.targetid}}" class="feed-link">gekauft</a>.
				</div>
			</div>
			<div ng-switch-when="trade-sell-me">
				<div class=" feed-entry-symbol"><i class="fa fa-eur"></i></div>
				<div class="feed-entry-content">
					<span class="feed-time pull-right" title="{{message.time * 1000 | date:'d.M.yy HH:mm'}}">{{vtime(message.time)}}</span>
					<a ng-href="#/user/{{message.srcusername}}" class="feed-link">{{message.srcusername}}</a> hat {{message.amount}} Anteile an Dir <a ng-href="#/trade/{{message.targetid}}" class="feed-link">verkauft</a>.
				</div>
			</div>
			<div ng-switch-when="provchange">
				<div class=" feed-entry-symbol"><i class="fa fa-credit-card"></i></div>
				<div class="feed-entry-content">
					<span class="feed-time pull-right" title="{{message.time * 1000 | date:'d.M.yy HH:mm'}}">{{vtime(message.time)}}</span>
					<a ng-href="#/user/{{message.srcusername}}" class="feed-link">{{message.srcusername}}</a> hat 
					<span ng-show="message.wprovchanged">seine Gewinnprovision von {{message.oldwprov}} % auf {{message.newwprov}} %</span>
					<span ng-show="message.bothchanged">und</span>
					<span ng-show="message.lprovchanged">seine Verlustprovision von {{message.oldlprov}} % auf {{message.newlprov}} %</span>
					verändert.
				</div>
			</div>
			<div ng-switch-when="provchange-self">
				<div class=" feed-entry-symbol"><i class="fa fa-credit-card"></i></div>
				<div class="feed-entry-content">
					<span class="feed-time pull-right" title="{{message.time * 1000 | date:'d.M.yy HH:mm'}}">{{vtime(message.time)}}</span>
					Du hast 
					<span ng-show="message.wprovchanged">deine Gewinnprovision von {{message.oldwprov}} % auf {{message.newwprov}} %</span>
					<span ng-show="message.bothchanged">und</span>
					<span ng-show="message.lprovchanged">deine Verlustprovision von {{message.oldlprov}} % auf {{message.newlprov}} %</span>
					verändert.
				</div>
			</div>
			<div ng-switch-when="namechange">
				<div class=" feed-entry-symbol"></div>
				<div class="feed-entry-content">
					<span class="feed-time pull-right" title="{{message.time * 1000 | date:'d.M.yy HH:mm'}}">{{vtime(message.time)}}</span>
					<a ng-href="#/user/{{message.srcusername}}" class="feed-link">{{message.srcusername}}</a> hat seinen Benutzernamen von „{{message.oldname}}“ auf „{{message.newname}}“ verändert.
				</div>
			</div>
			<div ng-switch-when="namechange-self">
				<div class=" feed-entry-symbol"></div>
				<div class="feed-entry-content">
					<span class="feed-time pull-right" title="{{message.time * 1000 | date:'d.M.yy HH:mm'}}">{{vtime(message.time)}}</span>
					Du hast Deinen Benutzernamen von „{{message.oldname}}“ auf „{{message.newname}}“ verändert.
				</div>
			</div>
			<div ng-switch-when="reset">
				<div class=" feed-entry-symbol"></div>
				<div class="feed-entry-content">
					<span class="feed-time pull-right" title="{{message.time * 1000 | date:'d.M.yy HH:mm'}}">{{vtime(message.time)}}</span>
					<a ng-href="#/user/{{message.srcusername}}" class="feed-link">{{message.srcusername}}</a> hat seinen Account zurückgesetzt.
				</div>
			</div>
			<div ng-switch-when="reset-self">
				<div class=" feed-entry-symbol"></div>
				<div class="feed-entry-content">
					<span class="feed-time pull-right" title="{{message.time * 1000 | date:'d.M.yy HH:mm'}}">{{vtime(message.time)}}</span>
					Du hast deinen Account zurückgesetzt.
				</div>
			</div>
			<div ng-if="message.type == 'comment-pinboard-self' || message.type == 'comment-pinboard-self-me' || message.type == 'comment-pinboard-me' || message.type == 'comment-pinboard'" class="comment">
				<div class=" feed-entry-symbol" style="background-image:url({{message.profilepic}})"></div>
				<span class="feed-arrow"></span>
				<div class="feed-entry-content">
					<div class="feed-head">
						<span class="feed-time pull-right" title="{{message.time * 1000 | date:'d.M.yy HH:mm'}}">{{vtime(message.time)}}</span>
						<a ng-href="#/user/{{message.srcusername}}">{{message.srcusername}}</a> <i class="fa fa-angle-right"></i> <a ng-href="#/user/{{message.tradername}}">{{message.tradername_genitive}}</a> Pinnwand
					</div>
					<a ng-href="#/user/{{message.tradername}}/pinboard">
						<span ng-show="message.trustedhtml" ng-bind-html="message.comment">{{message.comment}}</span>
						<span ng-hide="message.trustedhtml">{{message.comment}}</span>
					</a>
				</div>
			</div>
			<div ng-if="message.type == 'comment-trade-self-me' || message.type == 'comment-trade-self-me' || message.type == 'comment-trade-me' || message.type == 'comment-trade'" class="comment">
				<div class=" feed-entry-symbol" style="background-image:url({{message.profilepic}})"></div>
				<span class="feed-arrow"></span>
				<div class="feed-entry-content">
					<div class="feed-head">
						<span class="feed-time pull-right" title="{{message.time * 1000 | date:'d.M.yy HH:mm'}}">{{vtime(message.time)}}</span>
						<a ng-href="#/user/{{message.srcusername}}">{{message.srcusername}}</a> <i class="fa fa-angle-right"></i> <a ng-href="#/user/{{message.tradername}}">{{message.tradername_genitive}}</a> <a ng-href="#/trade/{{message.orderid}}">Trade</a>
					</div>
					<a ng-href="#/trade/{{message.orderid}}">
						<span ng-show="message.trustedhtml" ng-bind-html="message.comment">{{message.comment}}</span>
						<span ng-hide="message.trustedhtml">{{message.comment}}</span>
					</a>
				</div>
			</div>

			<div ng-if="message.type == 'comment-schoolpinboard-self' || message.type == 'comment-schoolpinboard'"  class="comment">
				<div class=" feed-entry-symbol" style="background-image:url({{message.profilepic}})"></div>
				<span class="feed-arrow"></span>
				<div class="feed-entry-content">
					<div class="feed-head">
						<span class="feed-time pull-right" title="{{message.time * 1000 | date:'d.M.yy HH:mm'}}">{{vtime(message.time)}}</span>
						<a ng-href="#/user/{{message.srcusername}}">{{message.srcusername}}</a> <i class="fa fa-angle-right"></i> <a ng-href="#/s{{message.schoolpath}}">{{message.tradername}}</a>
					</div>
					<a ng-href="#/s{{message.schoolpath}}">
						<span ng-show="message.trustedhtml" ng-bind-html="message.comment">{{message.comment}}</span>
						<span ng-hide="message.trustedhtml">{{message.comment}}</span>
					</a>
				</div>
			</div>
		</div>
	</div>
</div>
